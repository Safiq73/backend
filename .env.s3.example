# S3 Configuration for CivicPulse
# Copy these variables to your .env file and fill in your actual values

# AWS S3 Configuration
AWS_ACCESS_KEY_ID=your_aws_access_key_here
AWS_SECRET_ACCESS_KEY=your_aws_secret_key_here
AWS_S3_BUCKET=your-bucket-name
AWS_REGION=us-east-1

# Optional: For local development with MinIO or LocalStack
# AWS_S3_ENDPOINT_URL=http://localhost:9000

# File Upload Limits (optional - will use defaults if not set)
S3_MAX_IMAGE_SIZE=10485760  # 10MB in bytes
S3_MAX_VIDEO_SIZE=104857600  # 100MB in bytes
MAX_FILES_PER_POST=10

# =============================================================================
# S3 BUCKET SETUP INSTRUCTIONS
# =============================================================================

# 1. CORS Configuration (for web uploads):
# Add this CORS policy to your S3 bucket:
# [
#   {
#     "AllowedHeaders": ["*"],
#     "AllowedMethods": ["GET", "PUT", "POST", "DELETE"],
#     "AllowedOrigins": ["*"],
#     "ExposeHeaders": ["ETag"]
#   }
# ]

# 2. Bucket Policy (for public read access):
# {
#   "Version": "2012-10-17",
#   "Statement": [
#     {
#       "Sid": "PublicReadGetObject",
#       "Effect": "Allow",
#       "Principal": "*",
#       "Action": "s3:GetObject",
#       "Resource": "arn:aws:s3:::your-bucket-name/*"
#     }
#   ]
# }

# 3. Local Development with MinIO:
# Run MinIO server for local S3-compatible storage:
# docker run -p 9000:9000 -p 9001:9001 \
#   -e "MINIO_ROOT_USER=minioadmin" \
#   -e "MINIO_ROOT_PASSWORD=minioadmin" \
#   minio/minio server /data --console-address ":9001"

# For MinIO, use these settings:
# AWS_ACCESS_KEY_ID=minioadmin
# AWS_SECRET_ACCESS_KEY=minioadmin
# AWS_S3_BUCKET=civicpulse-dev
# AWS_S3_ENDPOINT_URL=http://localhost:9000

# 4. Folder Structure in S3:
# - posts/{post_id}/          (Post media files)
# - avatars/user_{user_id}/    (User avatar images)
# - covers/user_{user_id}/     (User cover photos)
# - uploads/{user_id}/         (General user uploads)
# - admin/                     (Admin uploaded files)
